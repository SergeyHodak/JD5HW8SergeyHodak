<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
        <title>Products</title>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <style>
            .frame table, .frame table td {
                border: 1px solid black;
            }
        </style>
        <div class="container mt-3">
            <div class="card">
                <div class="card-body">
                    <div th:if="${result} == 'true'">
                        <h2 align="center" th:text="'Result = ' + ${result}" style="color:#198754"></h2>
                    </div>
                    <div th:if="${result != null && result != 'true'}">
                        <h2 align="center" th:text="'Result = ' + ${result}" style="color:#dc3545"></h2>
                    </div>
                    <table class="table">
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Price</th>
                            <th>Manufacturer</th>
                        </tr>
                        <form  action="/product/create" method="POST">
                            <tr class="text-bg-secondary p-3">
                                <td>auto ID</td>
                                <td><input type="text" class="form-control" placeholder="Name ..." name="name" id="creteName"></td>
                                <td><input type="text" class="form-control" placeholder="Price ..." name="price" id="cretePrice"></td>
                                <td><input type="text" class="form-control" placeholder="Manufacturer name ..." name="manufacturer" id="creteManufacturer"></td>
                                <td><button class="btn btn-primary" type="submit">Create</button></td>
                            </tr>
                        </form>
                        <tr th:each="product: ${products}">
                            <form th:action="'/product/update/' + ${product.id}" method="POST" th:id="${product.id}">
                                <td th:text="${product.id}"></td>
                                <td><input type="text" class="form-control" th:value="${product.name}" name="name" id="name" th:form="${product.id}"></td>
                                <td><input type="text" class="form-control" th:value="${product.price}" name="price" id="price" th:form="${product.id}"></td>
                                <td><input type="text" class="form-control" th:value="${product.manufacturer}" name="manufacturer" id="manufacturer" th:form="${product.id}"></td>
                                <td><button class="btn btn-primary btn-sm" type="submit" th:form="${product.id}">Update</button></td>
                            </form>
                            <td><form th:action="'/product/delete/' + ${product.id}" method="POST" th:id="'del' + ${product.id}">
                                <button class="btn btn-danger btn-sm" type="submit"  th:form="'del' + ${product.id}">delete</button>
                            </form></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </body>
</html>